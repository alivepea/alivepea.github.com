---
layout: post
title: 内核ASoC之path
category: kernel
keywords: [kernel, alsa, asoc, dapm, path]
description: 解析ASoC中DAPM最重要的概念path
---

## {{ page.title }}

ASoC的DAPM是怎么做到需要用户空间参与功耗最小的呢？以codec为例，它运行时的功耗
主要取决于：1. codec供电电压越低，功耗越低; 2. 将codec中没有使用的部件禁用。
第1点和硬件设计有关，第2点就是DAPM最重要的工作内容了。那它是怎么做到呢？

### widget与path

下图是WM8750的框图。

[ ![codec_route][codec_route_t_image] ][codec_route_image]

[codec_route_t_image]: /images/thumbnails/codec_route_t.png "codec_route"
[codec_route_image]: /images/codec_route.png "codec_route"

如上图，speaker右声道播放音频流时，用到四个和DAPM相关的widget：
①snd_soc_dapm_dai_in. ②snd_soc_dapm_dac. ③snd_soc_dapm_mixer.
④snd_soc_dapm_pga. ⑤snd_soc_dapm_spk.

完整的通路Route是：①→②→③→④→⑤



~EOF~ {% include post_date.span %}
